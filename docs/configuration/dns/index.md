# DNS

### Structure

```json
{
  "dns": {
    "hosts": {},
    "servers": [],
    "clientIp": "",
    "queryStrategy": "",
    "disableCache": false,
    "disableFallback": false,
    "disableFallbackIfMatch": false,
    "tag": ""
  }
}
```

### Fields

| Key      | Format                          |
| -------- | ------------------------------- |
| `host`   | List of [Host](./host/)         |
| `server` | List of [DNS Server](./server/) |

#### clientIp

Append a `edns0-subnet` OPT extra record with the specified IP address to every query by default.

#### queryStrategy 

Default domain strategy for resolving the domain names.

One of `UseIP` `UseIPv4` `UseIPv6`.

Take no effect if `server.queryStrategy` is set.

#### disableCache

Disable dns cache.

#### disableFallback

Disables fallback DNS queries.

#### disableFallbackIfMatch

Disables fallback DNS queries when the matching domain list of the DNS server is hit.

#### tag

Traffic generated by built-in DNS, except for localhost, fakedns, TCPL, DOHL, and DOQL modes, can be matched with inboundTag in routing using this identifier.

